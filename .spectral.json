{
  "formats": [
    "oas2",
    "oas3"
  ],
  "extends": [
    "spectral:oas"
  ],
  "rules": {
    "info-matches-stoplight": {
      "description": "This is an example rule",
      "message": "Info must contain Stoplight",
      "given": "$.info",
      "recommended": true,
      "type": "style",
      "then": {
        "field": "title",
        "function": "pattern",
        "functionOptions": {
          "match": "Stoplight"
        }
      }
    }
  },
  "rules": {
    "valid-responses": {
      "description": "Operation must have a `200` or `400` response code",
      "type": "validation",
      "given": "$.paths.*[?( @property === 'get' || @property === 'put' || @property === 'post' || @property === 'delete' || @property === 'options' || @property === 'head' || @property === 'patch' || @property === 'trace' )].responses",
      "then": {
        "function": "schema",
        "functionOptions": {
          "schema": {
            "type": "object",
            "required": [
              "200",
              "400",
              "500"
            ]
          }
        }
      }
    }
  }
}